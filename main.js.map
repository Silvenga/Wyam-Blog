{"version":3,"sources":["webpack:///webpack/bootstrap 42b9c79dcb1ade4e474d","webpack:///./src/components/gists/gist-helper.ts","webpack:///./src/main.ts","webpack:///./src/components/blog.ts","webpack:///./src/components/piwik.ts","webpack:///./node_modules/lightense-images/lightense.js"],"names":["__webpack_require__","moduleId","installedModules","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","dataGistIdKey","GistHelper","elements","document","querySelectorAll","concat","_step","_iterator","Symbol","iterator","_iteratorNormalCompletion","next","done","_element","value","this","loadGistForElement","element","gistId","getAttribute","iframe","createElement","src","frameBorder","scrolling","className","onload","gistLoadedCallback","parentNode","replaceChild","console","log","event","style","height","contentWindow","body","scrollHeight","blog","Blog","siteLoaded","pageLoaded","_gistHelper","_piwik","_lightenseImages","_interopRequireDefault","Piwik","attach","findAndLoadGists","attachLightense","images","setAttribute","default","window","_paq","push","u","g","getElementsByTagName","type","async","defer","insertBefore","root","factory","_extends","assign","target","arguments","length","source","key","_typeof","obj","constructor","singleton","track","classList","add","addEventListener","config","keyboard","metaKey","ctrlKey","w","open","contains","removeViewer","scrollY","background","padding","defaults","img","Image","naturalWidth","width","naturalHeight","scrollTop","pageYOffset","documentElement","scrollLeft","pageXOffset","targetImage","getBoundingClientRect","maxScaleFactor","viewportWidth","innerWidth","clientWidth","viewportHeight","innerHeight","clientHeight","viewportWidthOffset","viewportHeightOffset","imageRatio","viewportRatio","scaleFactor","viewportX","viewportY","imageCenterX","left","imageCenterY","top","translateX","translateY","createTransform","wrap","setTimeout","transform","appendChild","container","backgroundColor","visibility","opacity","onKeyUp","checkViewer","init","removeEventListener","remove","time","Math","abs","offset","preventDefault","keyCode","cubicBezier","zIndex","options","undefined","getElements","css","head","styleSheet","cssText","createTextNode","createStyle","passedElements","len","startTracking","Lightense"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 42b9c79dcb1ade4e474d","export const dataGistIdKey: string = \"data-gist-id\";\n\nexport class GistHelper {\n    public findAndLoadGists(): void {\n        let elements: NodeListOf<Element> = document.querySelectorAll(`[${dataGistIdKey}]`);\n        for (let element of elements) {\n            this.loadGistForElement(element);\n        }\n    }\n\n    private loadGistForElement(element: Element): void {\n        let gistId = element.getAttribute(dataGistIdKey);\n\n        var iframe = document.createElement(\"iframe\");\n        iframe.src = `/gist-loader.html?${dataGistIdKey}=${gistId}`;\n        iframe.frameBorder = '0';\n        iframe.scrolling = 'no';\n        iframe.className = \"s-gist\";\n        iframe.onload = this.gistLoadedCallback;\n\n        element.parentNode.replaceChild(iframe, element);\n\n        console.log(`Loading gist:`, gistId);\n    }\n\n    private gistLoadedCallback(this: HTMLIFrameElement, event: Event): any {\n        this.style.height = this.contentWindow.document.body.scrollHeight + 'px';\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/gists/gist-helper.ts","import { Blog } from './components/blog';\n// import \"./styles/main.scss\"\n\n// import \"bootstrap.native/lib/V4/utils-init\" // Required in next release\n// import \"bootstrap.native/lib/V4/utils\";\n// import \"imports-loader?$=jquery!bootstrap.native/lib/V4/collapse-native\"\n// import \"bootstrap.native/dist/bootstrap-native-v4.js\"\n\nlet blog = new Blog();\nblog.siteLoaded();\nblog.pageLoaded();\n\n\n// WEBPACK FOOTER //\n// ./src/main.ts","import { GistHelper } from \"./gists/gist-helper\";\nimport { Piwik } from \"./piwik\";\nimport Lightense from \"lightense-images\";\n\nexport class Blog {\n\n    private _gistHelper: GistHelper;\n    private _piwik: Piwik;\n\n    constructor() {\n        this._gistHelper = new GistHelper();\n        this._piwik = new Piwik();\n    }\n\n    public siteLoaded(): void {\n        this._piwik.attach();\n    }\n\n    public pageLoaded(): void {\n        console.log(\"Page is loaded.\");\n        this._gistHelper.findAndLoadGists();\n        this.attachLightense();\n    }\n\n    private attachLightense() {\n        let images = document.querySelectorAll(\".s-article img\");\n        for (let image of images) {\n            image.setAttribute(\"data-background\", \"rgba(255, 255, 255, 0.6)\")\n        }\n        Lightense(images);\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/blog.ts","declare var window: any;\n\nexport class Piwik {\n    public attach() {\n        window._paq = window._paq || [];\n        window._paq.push(['trackPageView']);\n        window._paq.push(['enableLinkTracking']);\n        (function () {\n            var u = \"//piwik.silvenga.com/\";\n            window._paq.push(['setTrackerUrl', u + 'piwik.php']);\n            window._paq.push(['setSiteId', '3']);\n            var d = document, g = d.createElement('script'), s = d.getElementsByTagName('script')[0];\n            g.type = 'text/javascript'; g.async = true; g.defer = true; g.src = u + 'piwik.js'; s.parentNode.insertBefore(g, s);\n        })();\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/piwik.ts","/*! lightense-images v1.0.4 | Â© Tunghsiao Liu | MIT */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Lightense\"] = factory();\n\telse\n\t\troot[\"Lightense\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n\n\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar Lightense = function Lightense() {\n  'use strict';\n\n  // Save some bytes\n\n  var w = window;\n  var d = document;\n\n  // default options\n  var defaults = {\n    time: 300,\n    padding: 40,\n    offset: 40,\n    keyboard: true,\n    cubicBezier: 'cubic-bezier(.2, 0, .1, 1)',\n    zIndex: 2147483647\n  };\n\n  // Init user options\n  var config = {};\n\n  // Init target elements\n  var elements;\n\n  function getElements(elements) {\n    switch (typeof elements === 'undefined' ? 'undefined' : _typeof(elements)) {\n      case 'undefined':\n        throw 'You need to pass an element!';\n\n      case 'string':\n        return document.querySelectorAll(elements);\n\n      case 'object':\n        return elements;\n    }\n  }\n\n  function startTracking(passedElements) {\n    // If passed an array of elements, assign tracking to all\n    var len = passedElements.length;\n    if (len) {\n      // Loop and assign\n      for (var i = 0; i < len; i++) {\n        track(passedElements[i]);\n      }\n    } else {\n      track(passedElements);\n    }\n  }\n\n  function track(element) {\n    if (element.src) {\n      element.classList.add('lightense-target');\n      element.addEventListener('click', function (event) {\n        if (config.keyboard) {\n          // If Command (macOS) or Ctrl (Windows) key pressed, stop processing\n          // and open the image in a new tab\n          if (event.metaKey || event.ctrlKey) {\n            return w.open(element.src, '_blank');\n          }\n        }\n\n        // Init instance\n        init(this);\n      }, false);\n    }\n  }\n\n  function createStyle() {\n    var css = '\\n.lightense-backdrop {\\n  box-sizing: border-box;\\n  width: 100%;\\n  height: 100%;\\n  position: fixed;\\n  top: 0;\\n  left: 0;\\n  overflow: hidden;\\n  z-index: ' + (config.zIndex - 1) + ';\\n  padding: 0;\\n  margin: 0;\\n  transition: opacity ' + config.time + 'ms ease;\\n  cursor: zoom-out;\\n  opacity: 0;\\n  background-color: rgba(255, 255, 255, .98);\\n  visibility: hidden;\\n}\\n\\n@supports (-webkit-backdrop-filter: blur(30px)) {\\n  .lightense-backdrop {\\n    background-color: rgba(255, 255, 255, .6);\\n    -webkit-backdrop-filter: blur(30px);\\n    backdrop-filter: blur(30px);\\n  }\\n}\\n\\n.lightense-wrap {\\n  position: relative;\\n  transition: transform ' + config.time + 'ms ' + config.cubicBezier + ';\\n  z-index: ' + config.zIndex + ';\\n  pointer-events: none;\\n}\\n\\n.lightense-target {\\n  cursor: zoom-in;\\n  transition: transform ' + config.time + 'ms ' + config.cubicBezier + ';\\n  pointer-events: auto;\\n}\\n\\n.lightense-open {\\n  cursor: zoom-out;\\n}\\n\\n.lightense-transitioning {\\n  pointer-events: none;\\n}';\n\n    var head = d.head || d.getElementsByTagName('head')[0];\n    var style = d.createElement('style');\n    if (style.styleSheet) {\n      style.styleSheet.cssText = css;\n    } else {\n      style.appendChild(d.createTextNode(css));\n    }\n    head.appendChild(style);\n  }\n\n  function createBackdrop() {\n    config.container = d.createElement('div');\n    config.container.className = 'lightense-backdrop';\n    d.body.appendChild(config.container);\n  }\n\n  function createTransform(img) {\n    // Get original image size\n    var naturalWidth = img.width;\n    var naturalHeight = img.height;\n\n    // Calc zoom ratio\n    var scrollTop = w.pageYOffset || d.documentElement.scrollTop || 0;\n    var scrollLeft = w.pageXOffset || d.documentElement.scrollLeft || 0;\n    var targetImage = config.target.getBoundingClientRect();\n    var maxScaleFactor = naturalWidth / targetImage.width;\n    var viewportWidth = w.innerWidth || d.documentElement.clientWidth || 0;\n    var viewportHeight = w.innerHeight || d.documentElement.clientHeight || 0;\n    var viewportWidthOffset = viewportWidth - config.padding;\n    var viewportHeightOffset = viewportHeight - config.padding;\n    var imageRatio = naturalWidth / naturalHeight;\n    var viewportRatio = viewportWidthOffset / viewportHeightOffset;\n\n    if (naturalWidth < viewportWidthOffset && naturalHeight < viewportHeightOffset) {\n      config.scaleFactor = maxScaleFactor;\n    } else if (imageRatio < viewportRatio) {\n      config.scaleFactor = viewportHeightOffset / naturalHeight * maxScaleFactor;\n    } else {\n      config.scaleFactor = viewportWidthOffset / naturalWidth * maxScaleFactor;\n    }\n\n    // Calc animation\n    var viewportX = viewportWidth / 2;\n    var viewportY = scrollTop + viewportHeight / 2;\n    var imageCenterX = targetImage.left + scrollLeft + targetImage.width / 2;\n    var imageCenterY = targetImage.top + scrollTop + targetImage.height / 2;\n\n    config.translateX = viewportX - imageCenterX;\n    config.translateY = viewportY - imageCenterY;\n  }\n\n  function createViewer() {\n    config.target.classList.add('lightense-open');\n\n    // Create wrapper element\n    config.wrap = d.createElement('div');\n    config.wrap.className = 'lightense-wrap';\n\n    // Apply zoom ratio to target image\n    setTimeout(function () {\n      config.target.style.transform = 'scale(' + config.scaleFactor + ')';\n    }, 20);\n\n    // Apply animation to outer wrapper\n    config.target.parentNode.insertBefore(config.wrap, config.target);\n    config.wrap.appendChild(config.target);\n    setTimeout(function () {\n      config.wrap.style.transform = 'translate3d(' + config.translateX + 'px, ' + config.translateY + 'px, 0)';\n    }, 20);\n\n    // Show backdrop\n    if (config.background) config.container.style.backgroundColor = config.background;\n    config.container.style.visibility = 'visible';\n    setTimeout(function () {\n      config.container.style.opacity = '1';\n    }, 20);\n  }\n\n  function removeViewer() {\n    unbindEvents();\n\n    config.target.classList.remove('lightense-open');\n\n    // Remove transform styles\n    config.wrap.style.transform = '';\n    config.target.style.transform = '';\n    config.target.classList.add('lightense-transitioning');\n\n    // Fadeout backdrop\n    config.container.style.opacity = '';\n\n    // Hide backdrop and remove target element wrapper\n    setTimeout(function () {\n      config.container.style.visibility = '';\n      config.container.style.backgroundColor = '';\n      config.wrap.parentNode.replaceChild(config.target, config.wrap);\n      config.target.classList.remove('lightense-transitioning');\n    }, config.time);\n  }\n\n  function checkViewer() {\n    var scrollOffset = Math.abs(config.scrollY - w.scrollY);\n    if (scrollOffset >= config.offset) {\n      removeViewer();\n    }\n  }\n\n  function init(element) {\n    config.target = element;\n\n    // TODO: need refine\n    // If element already openned, close it\n    if (config.target.classList.contains('lightense-open')) {\n      return removeViewer();\n    }\n\n    // Save current window scroll position for later use\n    config.scrollY = w.scrollY;\n\n    // Save target attributes\n    config.background = config.target.getAttribute('data-background') || false;\n    config.padding = config.target.getAttribute('data-padding') || defaults.padding;\n\n    var img = new Image();\n    img.onload = function () {\n      createTransform(this);\n      createViewer();\n      bindEvents();\n    };\n    img.src = config.target.src;\n  }\n\n  function bindEvents() {\n    w.addEventListener('keyup', onKeyUp, false);\n    w.addEventListener('scroll', checkViewer, false);\n    config.container.addEventListener('click', removeViewer, false);\n  }\n\n  function unbindEvents() {\n    w.removeEventListener('keyup', onKeyUp, false);\n    w.removeEventListener('scroll', checkViewer, false);\n    config.container.removeEventListener('click', removeViewer, false);\n  }\n\n  // Exit on excape (esc) key pressed\n  function onKeyUp(event) {\n    event.preventDefault();\n    if (event.keyCode === 27) {\n      removeViewer();\n    }\n  }\n\n  function main(target) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    // Parse elements\n    elements = getElements(target);\n\n    // Parse user options\n    config = _extends({}, defaults, options);\n\n    // Prepare stylesheets\n    createStyle();\n\n    // Prepare backdrop element\n    createBackdrop();\n\n    // Pass and prepare elements\n    startTracking(elements);\n  }\n\n  return main;\n};\n\nvar singleton = Lightense();\n\nmodule.exports = singleton;\n\n/***/ })\n/******/ ]);\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/lightense-images/lightense.js\n// module id = 5\n// module chunks = 0"],"sourceRoot":""}